# Програмування мікроконтролерів. Інтернет речей.

## Концепт Інтернету речей

Концепція інтернету речей була вперше сформульована в 1999 році як оцінка перспектив масового
використання технологій радіочастотної ідентифікації для взаємодії компонентів між собою або з
навколишнім середовищем.
 
Сучасна теорія Інтернету речей полягає у створенні мережі взаємопов'язаних електронних
пристроїв, які отримають та обробляють інформацію, отриману через певні датчики або
за прямим введенням користувача та, спираючись на оброблені дані, приймає рішення щодо
виконання певних дій або зміни стану системи.
 
Модель "ідеального" Інтернету речей базуєтсья на
повному виключенні участі людини з роботи системи за рахунок використання складних
систем прийняття рішень. Зараз переважає думка, що для створення системи такого типу
потрібно використовувати замість глобального центру прийнятя рішень велику кількість
децентралізованих автономних мікрокомпьютерів, що мають змогу підтримувати діяльність
певної ділянки системи незалежно від стану решти системи.

Прикладом такої автономної
обчислювальної одиниці можуть послужити мікроконтроллери, в тому числі й апаратура на платформі *Arduino*.

![Internet_of_Things](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/iot.png)

## Складові Iнтернету речей 
Незважаючи на те, що концепція Інтернету речей наразі немає певного стандарту або зразку,
більшість з існуючих систем мають в певною мірою схожу структуру. Таким чином, типову систему
Інтернета речей можна умовно поділити на наступні складові:

### 1. Сенсори та виконавчі прилади
Це механізми, що збирають інформацію для подальшої обробки та виконують певні
фізичні дії за рішеннями, прийнятими на основі обробленної інформації.
До складу сенсорів входять різноманітні вимірювальні прилади, що дозволяють зібрати
інформацію як про стан навколищнього середовища (напридклад, механічні або теплові датчики, фотоелементи),
так і про внутрішній стан самої системи (резистивні та ємнісні давачі, електромагнітні датчики тощо).
### 2. Система передачі інформації
Забезпечує обмін данними та командами між компонентами та складається з фізичної,
у вигляді кабелів або бездротових систем, таких як Bluetooth і Wi-Fi, та
цифрової складових, у вигляді протоколів передачі данних. Потрібно розуміти, що
бездротові системи, незважаючі на зручність, мають певні значні недоліки, як, наприклад, низька
пропускна здатність, високий рівень споживання електроенергії та перебої у зв'язку. Зрозуміло також, що
кожен бездротовий пристрій повинен мати власне джерело живлення.
### 3. Хмарне сховище
Частина мережі, що відповідає за збереження інформації та ії обробку, а також за
прийняття кінцевих рішень щодо подальшої діяльності системи. У системах, пов'язаних
з безпекою чи здоров'ям людини, швидкодія саме цієї частини є основним фактором
ефективності всієї системи.
### 4. Системи аналітичної обробки та управління інформацією
Аналізують інформацію, отриману системою за значний період часу задля відповіді на 
питання стосовно доцільності використання системи та пошуку шляхів підвищення
ефективності роботи системи. Можуть бути централізованими, зосередженими у певному обчислювальному
центрі, або децентралізованими, локалізованими у великій кількості меньших процесорів.
Деякі сучасні системи Інтернету речей використовують так звану техніку "туманного обчислення",
коли всі значущі обчислення відбуваються у хмарному сховищі.
### 5. Інтерфейс користивача
Забезпечує можливість користувача переглядати інформацію про систему та керувати
окремими її елементами.
Зрозумілий та простий у використанні інтерфейс користувача є обов'язковим компонентом
комерційної IоT-системи, але будь-яка складна система, що може потребувати технічного обслуговування чи ремонту
потребує наяності більш інформативного та складного варіанту інтерфейсу. 
 
Важливо зазначити, що у ідеальній моделі Інтеренету речей наявність інтерфейсу не є обов'язковою, зважаючи на те,
що усі рішення такої системи приймаються автономно та не потребують людського втручання.<br><br>

![Components_Of_IoT_System](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/iot_components.png)

## Платформа Arduino
**Arduino** — апаратна обчислювальна платформа для розробки та побудови автономних та інтегрованих
систем у різних сферах електроніки, автоматики, автоматизації процесів та робототехніці.
### Складові
**Апаратна частина**  складається набору друкованих плат, які виготовляются як офіціальним
виробником, так і сторонніми виробниками. Архітектура системи Arduino повністю відкрита,
що дозволяє свободно редагувати ії поведінку.<br><br>

Плати Arduino є відкритим апаратним забезпеченням (захищенною авторським правом є лише 
назва Arduino), тому крім офіціальних лінійок мікроконтролерів випускається багато лінійок-аналогів
від сторонніх виробників. Зачастіше, плата Arduino складається з 8-бітного мікроконтроллеру
Atmel AVR з різною кількістю флеш-пам'яті, пінів та інших особливостей. Більшість плат
мають велику кількість пінів, об'єднаних у один чи два ряди, що робить можливим підключення
модулів-надбудов - щитів. У більшості випадків плата також включає в себе встроєні
5-вольтовий регулятор та кварцовий або керамічний резонатор для генерації тактового сигналу. 


На момент написання докладу існує більш ніж п'ятнадцять різних плат, розроблених офіційним виробником,
не враховуючи різноманітні варіації та щити. Ознайомитися з повним списком плат, що наразі виробляє
Arduino можна на [сайті офіційного інтернет-магазину](https://store.arduino.cc/).

Обираючи платформу, потрібно мати певну уяву про ємність виробничого ресурсу, що потребує проект.
Основними критеріями, які потрібно брати до увагу є:
* Фізичний розмір та вага плати
* Потужність процесору
* Обсяг пам'яті
* Можливості вводу-виводу
* Вбудована переферія
* Засоби під'єднанння

Взагалом, багато експертів вважають найкращім методом підбору потрібної плати знаходження платформи
з найкращім співвідношенням ціна-якість, тобто дешева плата, що має достатні здібності для виконанння
поставленої задачі є кращою за плату, що бездоганно працює, але багато коштує.

Про відмінності китайських аналогів від плат оригінального виробництва можна дізнатися на 
 сайті офіційного дістриб'ютора Arduino в Україні за [посиланням](https://arduino.ua/ru/art11-otlichiya-originalnih-italyanskih-plat-ot-kitaiskih).

Найпоширенішими платами є:

* **Arduino Uno**

Найпопулярніша плата Arduino, однаково шанована як серед професіоналів, так і серед аматорів.
Якщо люди розповідають вам про систему на базі Arduino, не уточнюючи плати, то, скоріш за все,
мова йде саме про Arduino Uno моделі R3. Широко використовується у сфері Інтернету речей як основа
сладних систем сенсорів, у робототехніці як контроллер простих роботів, а у аматорській діяльності
як основа для невеличких ігрових систем та іграшок на радіоуправлінні.

Оперує на базі процесору ATmega328, що оперує на тактовій частоті 16 мГц, має 32 кілобайт програмної та 
2 кілобайти оперативної пам'ті, 14 цифрових пінів на ввід/вивід та 6 аналогових пінів на ввід. Може видавати
напругу 5 та 3.3 Вольт.

Посилання на повну документацію - [Посилання](https://www.farnell.com/datasheets/1682209.pdf)
<br><br>

Ціна на офіційному сайті Arduino - 19.00€ - [Посилання](https://store.arduino.cc/arduino-uno-rev3-smd)

Ціни на сайті офіційного дістриб'ютора в Україні:

* Оригінал (Італія) - 664 грн - [Посилання](https://arduino.ua/prod174-arduino-uno-smd-rev3-a000073)
* Оригінал (Китай) - 447 грн - [Посилання](https://arduino.ua/prod2800-arduino-uno-rev3-official-chinese-version)
* Репліка (Китай) - 119 грн - [Посилання](https://arduino.ua/prod2610-arduino-uno-r3-ch340)

<br><br>
![Сircuit_Board_Example](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/circuit_board_example.png)
<br><br>
* **Arduino Nano**

Одна з найкомпактніших плат, мало важить та має відносно скромну ціну.
Має технічні дані, майже ідентичні з Arduino Uno, але має меньший розмір та не передбачає установку додаткових
щитів. Порівняти ці дві плати можна за наступною таблицею:

![Uno_And_Nano](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/uno_vs_nano.png)

Важливо відмітити, що старіші моделі оперують на базі процесору ATmega168, що має показники фактично в два рази
меньші за ATmega328.

Arduino Nano найбільш підходить для використання у маленьких або портативних пристроях,
 або як контроллер невеличкої системи сенсорів.

Посилання на повну документацію - [Посилання](http://www.farnell.com/datasheets/1682238.pdf)
<br><br>

Ціна на офіційному сайті Arduino - 9.00€ - [Посилання](https://store.arduino.cc/arduino-nano-every)

Ціни на сайті офіційного дістриб'ютора в Україні:
* Оригінал (Італія, ATmega328) - 684 грн - [Посилання](https://arduino.ua/prod179-arduino-nano-a000005)
* Репліка (ATmega328) - 98 грн - [Посилання](https://arduino.ua/prod2615-arduino-nano-v3-atmega328p-mu-neraspayannaya)
* Репліка (ATmega168) - 82 грн - [Посилання](https://arduino.ua/prod2678-arduino-nano-atmega168p-neraspayannaya)

<br><br>
![Nano](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/nano.png)

<br>



**Програмна частина** складається з безкоштовного середовища розроби для написання програм 
на мові *Arduino C*, що являє собою модіфіковану мову C++ з фрейворком Wiring. Модифікації спрощують 
налагодження взаємодії між програмною та матеріальною частинами, а також знижують поріг входження для
розробників, що не мають багато досвіду роботи з С-подібними мовами програмування. Весь програмний код,
написаний на Arduino C при компіляції конвертується середой розробки у програму на мові С/С++ без значущих змін.
Зважаючи на це, платформа Arduino також дозволяє пряме використання мов C та C++, при умові використання спецефічного стилю структурування коду. 

Весь код, написаний на Arduino C для однієї платформи може бути легко перероблений для роботи з іншими, що
дозволяє розробникам вільно змінювати цільову платформу під час розробки, у разі збільшення вимог технічного
завдання або навпаки, при знаходженні способу оптимізації процесів.<br><br>

![Programming_Languages](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/programming_languages.png)
<br>
Приклад найпростішої програми, Blink.ino, своєрідний аналог "Hello, World!" на мові Arduino C, що змушує
блимати вбудований у плату невеличкий світлодіод.<br> На цьому прикладі:
* Функція *setup()* виконуться лише один раз на початку роботи програми;
* Функція *loop()* являє собою основний цикл, що буде повторюватися допоки працює плата;
* Функція *pinMode(пін, режим)* використовується для ініціалізації робочих пінів та
налаштовує їх на ввід чи вивід сигналу;
* Функція *digitalWrite(пін, напруга)* вмикає чи вимикає постачання напруги через заданий пін.
 
![Blink](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/hello_world.png)
<br>

Офіційне програмне забезпечення для розробки за назвою Arduino IDE підтримує реалізацію всіх
етапів розробки, починаючи з написання коду й завершуючи завантаженням програми на плату.
Середовище разработки підтримується на операційних системах Windows, Linux та Mac OS, а
також має браузерну версію Arduino Web Editor. Усі перелічені версії розповсюджуються
цілком бесплатно та можуть бути завантажені з [офіційного сайту  Arduino](https://www.arduino.cc/en/software).
<br><br>

![Arduino_IDE_Logo](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/arduino_ide_logo.png)
<br>

![IDE](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/ide.png)
<br>

Робочий простір онлайн версії Arduino IDE. Підтримує зберігання файлів коду ("скетчів") у хмарному сховищі,
має вбудовану бібліотеку прикладів. Основною відмінністю від інших середовищ розробки є панель вибору 
цільової плати, а також вбудована консоль, що дозволяє приймати інформацію з підключеної плати.
Завантаження скомпільованої програми у підключену плату відбуваєтсья напряму через інтерфейс середовища
розробки.

Для коректної роботи онлайн-версії потрібно завантажити спеціальний плагін, який дає змогу комп'ютеру
розпізнавати підключені пристрої як мікроконтролери. Завантажити актуальну версію можна за [Посиланням](https://github.com/arduino/arduino-create-agent/releases) 

## Autodesk Tinkercad Curcuits

![Tinkercad_Logo](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/tinkercad_logo.png)
<br>

Tinkercad - безкоштовний інженерний онлайн-комплекс від компанії Autodesk, з початку розроблюваний як робоче
середовище для створення трьохвимірних моделей для 3D-друку. У 2017 році, у зв'язку з завершенням іншого проекту
від Autodesk - 123Curcuits, Tinkercad поглинув його функціонал, отримавши розділ Curcuits. Цей новий розділ
надає змогу створювати моделі електричних кіл, та, найважливіше, емулювати роботу плат Arduino. 
<br><br>
![Tinkercad_Example_1](https://github.com/HumbleShark/Internet-of-Things/blob/master/assets/images/tinkercad_example_1.png)
<br>
Приклад найпростішого проекту з участю зовнішніх компонентів - блимаючий світлодіод.
Tinkerсad дозволяє відносно реалістично емулювати роботу електричного кола, аж до того, що
симулює "знищення" елементів при перенавантаженнях або неправильному підключені, що дозволяє
розробникам безпечно протестувати свій проект у віртуальному середовищи, перед тим як зібрати його
фізичну модель.


## Виконав:
   Бойко Михайло Ілліч<br>Група ІВ-91<br>Номер у списку: 2
   

## Контактна інформація
* Тег у Телеграм - @mishark8D
* Робочий e-mail - m.boyko1228@gmail.com
* Телефон - +380 (95) 864 96 06

## Інше
[Методичні вказівки](https://jace-dev.herokuapp.com/design/js-talks#/)

[Звітність](https://drive.google.com/file/d/1A5Pxqb0Esy78t9xhMlkWzzx4chdkXAl2/view?usp=sharing)